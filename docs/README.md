# 灵码小说助手 - 系统文档中心

> **AI 驱动的小说创作平台 · 完整的创作工作流支持**

---

## 📖 系统概述

灵码小说助手是一个专为创作者设计的 AI 小说创作平台，提供从构思到成稿的全流程支持。平台由五大核心系统构成，协同工作以提供流畅的创作体验。

```
┌─────────────────────────────────────────────────────────────┐
│                      灵码小说助手                            │
├─────────────────────────────────────────────────────────────┤
│  ┌─────────┐  ┌─────────┐  ┌─────────┐  ┌─────────────────┐ │
│  │ 项目管理 │──│ 大纲系统 │──│ 章节系统 │──│ AI 小说生成系统 │ │
│  └─────────┘  └─────────┘  └─────────┘  └─────────────────┘ │
│       │            │            │                           │
│       └────────────┼────────────┘                           │
│                    │                                        │
│              ┌─────────┐                                    │
│              │ 人物系统 │                                    │
│              └─────────┘                                    │
└─────────────────────────────────────────────────────────────┘
```

---

## 🎯 五大核心系统

### 1. 📁 项目管理系统

**作用**: 作为创作的顶层容器，统一管理小说的所有元素。

| 功能 | 说明 |
|------|------|
| 项目创建 | 设置小说标题、简介、类型、风格 |
| 状态管理 | 草稿 → 进行中 → 已完成 → 已归档 |
| 模式切换 | 支持章节模式和单篇模式 |
| 字数统计 | 实时统计全文字数 |

**详细文档**: [项目管理系统](./project-system.md)

---

### 2. 📝 大纲系统

**作用**: 以树状结构组织小说的整体框架和情节脉络。

| 功能 | 说明 |
|------|------|
| 三层结构 | 卷 (Volume) → 章 (Chapter) → 小节 (Section) |
| AI 生成 | 根据设定一键生成完整大纲 |
| AI 续写 | 智能续写后续情节发展 |
| 拖拽编排 | 自由调整节点顺序和层级 |

**详细文档**: [大纲系统](./outline-system.md)

---

### 3. 📚 章节系统

**作用**: 管理小说的具体章节内容，支持独立编辑和状态追踪。

| 功能 | 说明 |
|------|------|
| 章节编辑 | 富文本编辑，实时保存 |
| 大纲关联 | 章节可绑定到大纲节点 |
| 状态追踪 | 草稿 / 已完成 / AI 生成 |
| 字数统计 | 单章节字数实时计算 |

**详细文档**: [章节系统](./chapter-system.md)

---

### 4. 👤 人物系统

**作用**: 创建和管理小说角色，包括背景、性格、能力和角色关系。

| 功能 | 说明 |
|------|------|
| 角色档案 | 姓名、年龄、性别、外貌、背景故事 |
| 性格能力 | MBTI 性格、特殊能力、优缺点 |
| 角色关系 | 可视化角色关系图谱 |
| 模板系统 | 预设角色模板，快速创建 |

**详细文档**: [人物系统](./character-system.md)

---

### 5. 🤖 AI 小说生成系统

**作用**: 利用 AI 能力快速生成小说内容，支持多种生成模式。

| 功能 | 说明 |
|------|------|
| 流式生成 | 实时观看 AI 创作过程 |
| 参数控制 | 类型、风格、字数等精细控制 |
| 内容续写 | 基于现有内容智能续写 |
| 自定义 API | 用户可接入自己的 AI 服务 |

**详细文档**: [AI 小说生成系统](./ai-generator-system.md)

---

## 🔗 系统协作关系

```
用户创建项目 (NovelProject)
       │
       ├──→ 设置角色 (Character) ──→ 角色关系 (CharacterRelation)
       │
       ├──→ 构建大纲 (OutlineNode) ──→ AI 生成/续写大纲
       │         │
       │         └──→ 关联章节 (Chapter)
       │
       └──→ 编写内容 ──→ AI 生成/续写章节
```

### 典型创作流程

1. **创建项目** - 设定小说基本信息（标题、类型、风格）
2. **设计人物** - 创建主要角色，建立角色关系
3. **构建大纲** - 使用 AI 生成或手动创建大纲结构
4. **章节创作** - 逐章编写或使用 AI 辅助生成
5. **迭代优化** - 持续修改和完善内容

---

## 🔌 自定义 API 接入

灵码小说助手支持用户接入自己的 AI API：

| 配置项 | 说明 |
|--------|------|
| `api_base` | API 服务地址 |
| `api_key` | API 密钥（加密存储） |
| `api_model` | 模型名称 |
| `api_max_tokens` | 最大生成 Token 数 |

配置路径: **用户设置 → API 配置**

---

## 📂 文档目录

| 文档 | 说明 |
|------|------|
| [项目管理系统](./project-system.md) | 项目 CRUD、状态管理、模式切换 |
| [大纲系统](./outline-system.md) | 树状结构、AI 生成、拖拽排序 |
| [章节系统](./chapter-system.md) | 章节编辑、大纲关联、状态追踪 |
| [人物系统](./character-system.md) | 角色档案、关系图谱、模板系统 |
| [AI 小说生成系统](./ai-generator-system.md) | 流式生成、参数控制、API 接入 |

---

## 🛠️ 技术架构

### 后端

- **框架**: FastAPI (Python 3.11+)
- **ORM**: Tortoise-ORM + Aerich
- **认证**: JWT (python-jose)
- **AI 调用**: OpenAI 兼容 API

### 前端

- **框架**: React 18 + TypeScript
- **UI**: MUI v6 (MacOS 风格)
- **状态**: Zustand
- **动画**: Framer Motion

### 数据流

```
前端组件 → API 调用 → FastAPI 路由 → 业务逻辑 → Tortoise-ORM → 数据库
                                         ↓
                                    AI 服务调用
```

---

## 📞 获取帮助

- **主 README**: [返回项目首页](../README.md)
- **开发指南**: 参考项目根目录 `docs/` 下的开发文档
