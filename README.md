# çµç å°è¯´åŠ©æ‰‹ âš¡ï¸

> **AIé©±åŠ¨çš„å°è¯´åˆ›ä½œå·¥å…· Â· æµå¼ç”Ÿæˆ Â· MacOSé£æ ¼UI**

[![License](https://img.shields.io/badge/license-MIT-blue.svg)](LICENSE)
[![Python](https://img.shields.io/badge/python-3.11+-3776AB.svg?logo=python&logoColor=white)](https://www.python.org)
[![FastAPI](https://img.shields.io/badge/FastAPI-0.109+-009688.svg?logo=fastapi&logoColor=white)](https://fastapi.tiangolo.com)
[![TypeScript](https://img.shields.io/badge/typescript-5.6+-3178C6.svg?logo=typescript&logoColor=white)](https://www.typescriptlang.org)
[![React](https://img.shields.io/badge/React-18-61DAFB.svg?logo=react&logoColor=white)](https://react.dev)
[![Docker](https://img.shields.io/badge/docker-ready-2496ED.svg?logo=docker&logoColor=white)](https://www.docker.com)

---

**çµç å°è¯´åŠ©æ‰‹**æ˜¯ä¸€æ¬¾ä¸“ä¸ºåˆ›ä½œè€…è®¾è®¡çš„ AI å°è¯´ç”Ÿæˆå·¥å…·ã€‚å®ƒå¯ä»¥å¸®åŠ©ç”¨æˆ·é€šè¿‡ç®€å•çš„å‚æ•°è®¾ç½®ï¼Œå¿«é€Ÿç”Ÿæˆå„ç§ç±»å‹å’Œé£æ ¼çš„å°è¯´å†…å®¹ã€‚å·¥å…·é›†æˆäº†å…ˆè¿›çš„ AI æŠ€æœ¯ï¼Œæ”¯æŒæµå¼å†…å®¹ç”Ÿæˆï¼Œè®©ç”¨æˆ·èƒ½å¤Ÿå®æ—¶è§‚çœ‹åˆ›ä½œè¿‡ç¨‹ã€‚

## âœ¨ æ ¸å¿ƒåŠŸèƒ½

### ğŸ“ å¤§çº²ç³»ç»Ÿ

- **æ ‘çŠ¶ç»“æ„**: æ”¯æŒå·/ç« /å°èŠ‚ä¸‰å±‚å±‚çº§ï¼Œçµæ´»ç»„ç»‡å°è¯´ç»“æ„
- **AI ç”Ÿæˆå¤§çº²**: æ ¹æ®å°è¯´è®¾å®šä¸€é”®ç”Ÿæˆå®Œæ•´å¤§çº²
- **å¤§çº²ç»­å†™**: AI æ™ºèƒ½ç»­å†™åç»­æƒ…èŠ‚å‘å±•
- **æ‹–æ‹½æ’åº**: è‡ªç”±è°ƒæ•´ç« èŠ‚é¡ºåºå’Œå±‚çº§å…³ç³»

### ğŸ“š ç« èŠ‚ç³»ç»Ÿ

- **ç« èŠ‚ç®¡ç†**: ç‹¬ç«‹ç« èŠ‚ç¼–è¾‘ï¼Œæ”¯æŒå­—æ•°ç»Ÿè®¡å’ŒçŠ¶æ€è¿½è¸ª
- **å¤§çº²å…³è”**: ç« èŠ‚å¯ä¸å¤§çº²èŠ‚ç‚¹å…³è”ï¼Œä¿æŒç»“æ„ä¸€è‡´
- **å¤šç§çŠ¶æ€**: è‰ç¨¿/å·²å®Œæˆ/AIç”Ÿæˆï¼Œæ¸…æ™°æŒæ¡åˆ›ä½œè¿›åº¦
- **çµæ´»åˆ‡æ¢**: é¡¹ç›®å¯é€‰æ‹©ä½¿ç”¨æˆ–ä¸ä½¿ç”¨ç« èŠ‚ç³»ç»Ÿ

### ğŸ”Œ è‡ªå®šä¹‰ API æ¥å…¥

- **ç”¨æˆ·çº§é…ç½®**: æ¯ä¸ªç”¨æˆ·å¯é…ç½®è‡ªå·±çš„ AI API
- **å¤šå‚æ•°æ”¯æŒ**: è‡ªå®šä¹‰ API Base URLã€API Keyã€æ¨¡å‹åç§°ã€æœ€å¤§ Token æ•°
- **å®‰å…¨å­˜å‚¨**: API Key åŠ å¯†å­˜å‚¨ï¼Œä¿éšœç”¨æˆ·æ•°æ®å®‰å…¨

### ğŸ“– AI å°è¯´ç”Ÿæˆ

- **æµå¼ç”Ÿæˆ**: å®æ—¶è§‚çœ‹ AI åˆ›ä½œè¿‡ç¨‹ï¼Œæ”¯æŒæ€ç»´é“¾å¯è§†åŒ–
- **å‚æ•°åŒ–æ§åˆ¶**: æ”¯æŒç§‘å¹»ã€å¥‡å¹»ã€æ‚¬ç–‘ã€çˆ±æƒ…ç­‰å¤šç§ç±»å‹å’Œé£æ ¼
- **AI åˆ›ä½œåŠ©æ‰‹**: å†…ç½®äº¤äº’å¼èŠå¤©é¢æ¿ï¼Œè·å–åˆ›ä½œçµæ„Ÿ
- **å†…å®¹ç®¡ç†**: å®æ—¶ä¿å­˜ã€ä¸€é”®å¤åˆ¶ã€é¡¹ç›®é›†æˆ

### ğŸ¨ ç²¾ç¾ç•Œé¢

- **MacOS é£æ ¼è®¾è®¡**: æ¯›ç»ç’ƒæ•ˆæœã€åœ†è§’ã€æŸ”å’Œé˜´å½±
- **Framer Motion åŠ¨ç”»**: æµç•…çš„é¡µé¢åˆ‡æ¢å’Œäº¤äº’åé¦ˆ
- **æ·±è‰²/æµ…è‰²æ¨¡å¼**: å®Œç¾æ”¯æŒ Light/Dark æ¨¡å¼åˆ‡æ¢
- **å¤šå¥—ä¸»é¢˜è‰²**: Blue, Purple, Green, Orange å››å¥—å¼ºè°ƒè‰²

### ğŸ›  æŠ€æœ¯ç‰¹æ€§

- **å‚ç›´åˆ‡åˆ†æ¶æ„**: å‰åç«¯ä»£ç æŒ‰åŠŸèƒ½èšåˆï¼ŒAI å‹å¥½
- **ç±»å‹å®‰å…¨**: åç«¯å®šä¹‰ â†’ OpenAPI â†’ è‡ªåŠ¨ç”Ÿæˆå‰ç«¯ç±»å‹
- **å®¹å™¨åŒ–éƒ¨ç½²**: æ”¯æŒ Docker éƒ¨ç½²
- **è·¨å¹³å°**: æ”¯æŒ Windows åŸç”Ÿåº”ç”¨æ‰“åŒ…

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

- Python 3.11+
- Node.js 18+
- pnpm 8+

### 1. å®‰è£…ä¾èµ–

```bash
# å®‰è£… uv (Python åŒ…ç®¡ç†å™¨)
curl -LsSf https://astral.sh/uv/install.sh | sh

# å®‰è£… Python å’Œ Node.js ä¾èµ–
uv sync
pnpm install
```

### 2. åˆå§‹åŒ–æ•°æ®åº“

```bash
mkdir -p data
pnpm db:init-db
```

### 3. å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
# ä¸€é”®å¯åŠ¨å‰åç«¯ (æ¨è)
pnpm dev:all

# æˆ–åˆ†åˆ«å¯åŠ¨
# pnpm dev:backend
# pnpm dev:frontend
```

### 4. è®¿é—®åº”ç”¨

| æœåŠ¡ | åœ°å€ |
|------|------|
| Web UI | http://localhost:5173 |
| API Docs | http://localhost:9871/docs |
| é»˜è®¤è´¦å· | `admin` / `admin` |

---

## ğŸ“ é¡¹ç›®ç»“æ„

```text
src/
â”œâ”€â”€ features/              # ğŸ§© åŠŸèƒ½æ¨¡å— (å‚ç›´åˆ‡åˆ†)
â”‚   â”œâ”€â”€ chapter/           # ç« èŠ‚ç®¡ç†
â”‚   â”œâ”€â”€ character/         # è§’è‰²ç®¡ç†
â”‚   â”œâ”€â”€ novel_project/     # é¡¹ç›®ç®¡ç†
â”‚   â”œâ”€â”€ novel_outline/     # å¤§çº²ç®¡ç†
â”‚   â”œâ”€â”€ novel_generator/   # çŸ­ç¯‡å°è¯´ç”Ÿæˆå™¨
â”‚   â””â”€â”€ user/              # ç”¨æˆ·è®¤è¯
â”‚
â”œâ”€â”€ backend/               # âš™ï¸ åç«¯æ ¸å¿ƒ
â”‚   â”œâ”€â”€ core/              # å®‰å…¨ã€å¼‚å¸¸ã€æ—¥å¿—
â”‚   â”œâ”€â”€ config/            # é…ç½®ã€æ•°æ®åº“
â”‚   â””â”€â”€ services/          # é€šç”¨æœåŠ¡
â”‚
â”œâ”€â”€ frontend/              # ğŸ–¥ï¸ å‰ç«¯åŸºç¡€è®¾æ–½
â”‚   â”œâ”€â”€ core/              # HTTPã€è·¯ç”±ã€ç±»å‹ã€ä¸»é¢˜ã€åŠ¨ç”»
â”‚   â”œâ”€â”€ shared/            # å…±äº«ç»„ä»¶ã€hooksã€çŠ¶æ€
â”‚   â””â”€â”€ utils/             # å·¥å…·å‡½æ•°
â”‚
â””â”€â”€ assets/                # èµ„æºæ–‡ä»¶
    â””â”€â”€ template/          # Jinja2 æç¤ºè¯æ¨¡æ¿
```

---

## âš™ï¸ é…ç½®è¯´æ˜

### åç«¯é…ç½® (.env)

```bash
# åº”ç”¨ä¿¡æ¯
APP_NAME="çµç å°è¯´åŠ©æ‰‹ API"
ENVIRONMENT="development"

# æ•°æ®åº“
DATABASE_URL="sqlite://./data/db.sqlite3"

# å®‰å…¨
SECRET_KEY="your-secret-key"  # openssl rand -hex 32
ACCESS_TOKEN_EXPIRE_MINUTES=10080

# CORS
CORS_ORIGINS=["http://localhost:5173"]
```

### å‰ç«¯é…ç½® (.env.local)

```bash
VITE_APP_NAME="çµç å°è¯´åŠ©æ‰‹"
VITE_API_BASE_URL="/api"
```

---

## ğŸ“‹ å¸¸ç”¨å‘½ä»¤

### å¼€å‘æœåŠ¡å™¨

```bash
pnpm dev:all          # åŒæ—¶å¯åŠ¨å‰åç«¯ â­
pnpm dev:backend      # ä»…åç«¯
pnpm dev:frontend     # ä»…å‰ç«¯
```

### æ•°æ®åº“

```bash
pnpm db:generate --name "è¯´æ˜"  # ç”Ÿæˆè¿ç§»
pnpm db:migrate                 # åº”ç”¨è¿ç§»
pnpm db:rollback                # å›æ»šè¿ç§»
```

### ç±»å‹ç”Ÿæˆ

```bash
pnpm generate:types       # ä» OpenAPI ç”Ÿæˆå‰ç«¯ç±»å‹
```

> ğŸ’¡ ä½¿ç”¨ `pnpm dev:all` æ—¶ï¼Œç±»å‹ä¼šè‡ªåŠ¨æ›´æ–°ï¼

### ä»£ç æ£€æŸ¥

```bash
pnpm type-check           # TypeScript æ£€æŸ¥
pnpm lint                 # ESLint
pnpm lint:backend         # Ruff æ£€æŸ¥
```

### ä¾èµ–ç®¡ç†

```bash
# Python (å¿…é¡»ç”¨ uv)
uv add <package>
uv add --dev <package>

# Node.js
pnpm add <package>
pnpm add -D <package>
```

---

## ğŸ—ï¸ æŠ€æœ¯æ ˆ

### åç«¯

| æŠ€æœ¯ | ç”¨é€” |
|------|------|
| FastAPI | Web æ¡†æ¶ |
| Pydantic v2 | æ•°æ®éªŒè¯ |
| Tortoise-ORM | æ•°æ®åº“ ORM |
| Aerich | æ•°æ®åº“è¿ç§» |
| python-jose | JWT è®¤è¯ |
| Loguru | æ—¥å¿—ç³»ç»Ÿ |
| uv | åŒ…ç®¡ç† |

### å‰ç«¯

| æŠ€æœ¯ | ç”¨é€” |
|------|------|
| React 18 | UI æ¡†æ¶ |
| TypeScript 5.6 | ç±»å‹ç³»ç»Ÿ |
| React Router v7 | è·¯ç”± |
| Zustand | çŠ¶æ€ç®¡ç† |
| MUI v6 | ç»„ä»¶åº“ (MacOS é£æ ¼å®šåˆ¶) |
| Framer Motion | åŠ¨ç”» |
| Axios | HTTP å®¢æˆ·ç«¯ |
| Vite | æ„å»ºå·¥å…· |
| pnpm | åŒ…ç®¡ç† |


---

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼æäº¤å‰è¯·ç¡®ä¿é€šè¿‡ç±»å‹æ£€æŸ¥ä¸ Lintï¼š

```bash
pnpm type-check
pnpm lint
pnpm lint:backend
```

---

## ğŸ“„ License

MIT Â© çµç å°è¯´åŠ©æ‰‹
